<h1 id="postcsspostcss-discard-comments-%21build-statusci-%21npm-versionnpm-%21dependency-statusdeps"><a href="https://github.com/postcss/postcss">postcss</a>-discard-comments <a href="https://travis-ci.org/ben-eb/postcss-discard-comments"><img src="https://travis-ci.org/ben-eb/postcss-discard-comments.svg?branch=master" alt="Build Status" /></a> <a href="http://badge.fury.io/js/postcss-discard-comments"><img src="https://badge.fury.io/js/postcss-discard-comments.svg" alt="NPM version" /></a> <a href="https://gemnasium.com/ben-eb/postcss-discard-comments"><img src="https://gemnasium.com/ben-eb/postcss-discard-comments.svg" alt="Dependency Status" /></a></h1>

<blockquote>
  <p>Discard comments in your CSS files with PostCSS.</p>
</blockquote>

<h2 id="install">Install</h2>

<p>With <a href="https://npmjs.org/package/postcss-discard-comments">npm</a> do:</p>

<pre><code>npm install postcss-discard-comments --save
</code></pre>

<h2 id="example">Example</h2>

<h3 id="input">Input</h3>

<pre><code class="css">h1/* heading */{
    margin: 0 auto
}
</code></pre>

<h3 id="output">Output</h3>

<pre><code class="css">h1 {
    margin: 0 auto
}
</code></pre>

<p>This module discards comments from your CSS files; by default, it will remove
all regular comments (<code>/* comment */</code>) and preserve comments marked as important
(<code>/*! important */</code>).</p>

<p>Note that this module does not handle source map comments because they are not
available to it; PostCSS handles this internally, so if they are removed then
you will have to <a href="https://github.com/postcss/postcss/blob/master/docs/source-maps.md">configure source maps in PostCSS</a>.</p>

<h2 id="api">API</h2>

<h3 id="commentsoptions">comments([options])</h3>

<h4 id="options">options</h4>

<h5 id="removefunction">remove(function)</h5>

<p>Type: <code>function</code>
Return: <code>boolean</code>
Variable: <code>comment</code> contains a comment without <code>/**/</code></p>

<p>For each comment, return true to remove, or false to keep the comment.</p>

<pre><code class="js">function(comment) {}
</code></pre>

<pre><code class="js">var css = '/* headings *//*@ h1 */h1{margin:0 auto}/*@ h2 */h2{color:red}';
console.log(postcss(comments({
    remove: function(comment) { return comment[0] == "@"; }
})).process(css).css);
//=&gt; /* headings */h1{margin:0 auto}h2{color:red}
</code></pre>

<p><strong>NOTE:</strong> If you use the <code>remove</code> function other options will not be available.</p>

<h5 id="removeall">removeAll</h5>

<p>Type: <code>boolean</code>
Default: <code>false</code></p>

<p>Remove all comments marked as important.</p>

<pre><code class="js">var css = '/*! heading */h1{margin:0 auto}/*! heading 2 */h2{color:red}';
console.log(postcss(comments({removeAll: true})).process(css).css);
//=&gt; h1{margin:0 auto}h2{color:red}
</code></pre>

<h5 id="removeallbutfirst">removeAllButFirst</h5>

<p>Type: <code>boolean</code>
Default: <code>false</code></p>

<p>Remove all comments marked as important, but the first one.</p>

<pre><code class="js">var css = '/*! heading */h1{margin:0 auto}/*! heading 2 */h2{color:red}';
console.log(postcss(comments({removeAllButFirst: true})).process(css).css);
//=&gt; /*! heading */h1{margin:0 auto}h2{color:red}
</code></pre>

<h2 id="usage">Usage</h2>

<p>See the <a href="https://github.com/postcss/postcss#usage">PostCSS documentation</a> for
examples for your environment.</p>

<h2 id="contributing">Contributing</h2>

<p>Pull requests are welcome. If you add functionality, then please add unit tests
to cover it.</p>

<h2 id="license">License</h2>

<p>MIT Â© Ben Briggs</p>
