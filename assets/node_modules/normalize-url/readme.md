<h1 id="normalize-url-%21build-status">normalize-url <a href="https://travis-ci.org/sindresorhus/normalize-url"><img src="https://travis-ci.org/sindresorhus/normalize-url.svg?branch=master" alt="Build Status" /></a></h1>

<blockquote>
  <p><a href="http://en.wikipedia.org/wiki/URL_normalization">Normalize</a> a URL</p>
</blockquote>

<p>Useful when you need to display, store, deduplicate, sort, compare, etc, URLs.</p>

<h2 id="install">Install</h2>

<pre><code>$ npm install --save normalize-url
</code></pre>

<h2 id="usage">Usage</h2>

<pre><code class="js">const normalizeUrl = require('normalize-url');

normalizeUrl('sindresorhus.com');
//=&gt; 'http://sindresorhus.com'

normalizeUrl('HTTP://xn--xample-hva.com:80/?b=bar&amp;a=foo');
//=&gt; 'http://êxample.com/?a=foo&amp;b=bar'
</code></pre>

<h2 id="api">API</h2>

<h3 id="normalizeurlurl%2C-options">normalizeUrl(url, [options])</h3>

<h4 id="url">url</h4>

<p>Type: <code>string</code></p>

<p>URL to normalize.</p>

<h4 id="options">options</h4>

<h5 id="normalizeprotocol">normalizeProtocol</h5>

<p>Type: <code>boolean</code><br>
Default: <code>true</code></p>

<p>Prepend <code>http:</code> to the URL if it's protocol-relative.</p>

<pre><code class="js">normalizeUrl('//sindresorhus.com:80/');
//=&gt; 'http://sindresorhus.com'

normalizeUrl('//sindresorhus.com:80/', {normalizeProtocol: false});
//=&gt; '//sindresorhus.com'
</code></pre>

<h5 id="normalizehttps">normalizeHttps</h5>

<p>Type: <code>boolean</code><br>
Default: <code>false</code></p>

<p>Normalize <code>https:</code> URLs to <code>http:</code>.</p>

<pre><code class="js">normalizeUrl('https://sindresorhus.com:80/');
//=&gt; 'https://sindresorhus.com'

normalizeUrl('https://sindresorhus.com:80/', {normalizeHttps: true});
//=&gt; 'http://sindresorhus.com'
</code></pre>

<h5 id="stripfragment">stripFragment</h5>

<p>Type: <code>boolean</code><br>
Default: <code>true</code></p>

<p>Remove the fragment at the end of the URL.</p>

<pre><code class="js">normalizeUrl('sindresorhus.com/about.html#contact');
//=&gt; 'http://sindresorhus.com/about.html'

normalizeUrl('sindresorhus.com/about.html#contact', {stripFragment: false});
//=&gt; 'http://sindresorhus.com/about.html#contact'
</code></pre>

<h5 id="stripwww">stripWWW</h5>

<p>Type: <code>boolean</code><br>
Default: <code>true</code></p>

<p>Remove <code>www.</code> from the URL.</p>

<pre><code class="js">normalizeUrl('http://www.sindresorhus.com/about.html#contact');
//=&gt; 'http://sindresorhus.com/about.html#contact'

normalizeUrl('http://www.sindresorhus.com/about.html#contact', {stripWWW: false});
//=&gt; 'http://www.sindresorhus.com/about.html#contact'
</code></pre>

<h5 id="removequeryparameters">removeQueryParameters</h5>

<p>Type: <code>Array&lt;RegExp|string&gt;</code><br>
Default: <code>[/^utm_\w+/i]</code></p>

<p>Remove query parameters that matches any of the provided strings or regexes.</p>

<pre><code class="js">normalizeUrl('www.sindresorhus.com?foo=bar&amp;ref=test_ref', {
    removeQueryParameters: ['ref']
});
//=&gt; 'http://sindresorhus.com/?foo=bar'
</code></pre>

<h5 id="removetrailingslash">removeTrailingSlash</h5>

<p>Type: <code>boolean</code><br>
Default: <code>true</code></p>

<p>Remove trailing slash.</p>

<p><strong>Note:</strong> Trailing slash is always removed if the URL doesn't have a pathname.</p>

<pre><code class="js">normalizeUrl('http://sindresorhus.com/redirect/');
//=&gt; 'http://sindresorhus.com/redirect'

normalizeUrl('http://sindresorhus.com/redirect/', {removeTrailingSlash: false});
//=&gt; 'http://sindresorhus.com/redirect/'

normalizeUrl('http://sindresorhus.com/', {removeTrailingSlash: false});
//=&gt; 'http://sindresorhus.com'
</code></pre>

<h5 id="removedirectoryindex">removeDirectoryIndex</h5>

<p>Type: <code>boolean</code> <code>Array&lt;RegExp|string&gt;</code><br>
Default: <code>false</code></p>

<p>Remove the default directory index file from path that matches any of the provided strings or regexes. When <code>true</code>, the regex <code>/^index\.[a-z]+$/</code> is used.</p>

<pre><code class="js">normalizeUrl('www.sindresorhus.com/foo/default.php', {
    removeDirectoryIndex: [/^default\.[a-z]+$/]
});
//=&gt; 'http://sindresorhus.com/foo'
</code></pre>

<h2 id="related">Related</h2>

<ul>
<li><a href="https://github.com/sindresorhus/compare-urls">compare-urls</a> - Compare URLs by first normalizing them</li>
</ul>

<h2 id="license">License</h2>

<p>MIT © <a href="https://sindresorhus.com">Sindre Sorhus</a></p>
