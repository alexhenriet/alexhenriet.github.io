<h1 id="validate-npm-package-license">validate-npm-package-license</h1>

<p>Give me a string and I'll tell you if it's a valid npm package license string.</p>

<pre><code class="javascript">var valid = require('validate-npm-package-license');
</code></pre>

<p>SPDX license identifiers are valid license strings:</p>

<pre><code class="javascript"><br />var assert = require('assert');
var validSPDXExpression = {
  validForNewPackages: true,
  validForOldPackages: true,
  spdx: true
};

assert.deepEqual(valid('MIT'), validSPDXExpression);
assert.deepEqual(valid('BSD-2-Clause'), validSPDXExpression);
assert.deepEqual(valid('Apache-2.0'), validSPDXExpression);
assert.deepEqual(valid('ISC'), validSPDXExpression);
</code></pre>

<p>The function will return a warning and suggestion for nearly-correct license identifiers:</p>

<pre><code class="javascript">assert.deepEqual(
  valid('Apache 2.0'),
  {
    validForOldPackages: false,
    validForNewPackages: false,
    warnings: [
      'license should be ' +
      'a valid SPDX license expression (without "LicenseRef"), ' +
      '"UNLICENSED", or ' +
      '"SEE LICENSE IN &lt;filename&gt;"',
      'license is similar to the valid expression "Apache-2.0"'
    ]
  }
);
</code></pre>

<p>SPDX expressions are valid, too ...</p>

<pre><code class="javascript">// Simple SPDX license expression for dual licensing
assert.deepEqual(
  valid('(GPL-3.0-only OR BSD-2-Clause)'),
  validSPDXExpression
);
</code></pre>

<p>... except if they contain <code>LicenseRef</code>:</p>

<pre><code class="javascript">var warningAboutLicenseRef = {
  validForOldPackages: false,
  validForNewPackages: false,
  spdx: true,
  warnings: [
    'license should be ' +
    'a valid SPDX license expression (without "LicenseRef"), ' +
    '"UNLICENSED", or ' +
    '"SEE LICENSE IN &lt;filename&gt;"',
  ]
};

assert.deepEqual(
  valid('LicenseRef-Made-Up'),
  warningAboutLicenseRef
);

assert.deepEqual(
  valid('(MIT OR LicenseRef-Made-Up)'),
  warningAboutLicenseRef
);
</code></pre>

<p>If you can't describe your licensing terms with standardized SPDX identifiers, put the terms in a file in the package and point users there:</p>

<pre><code class="javascript">assert.deepEqual(
  valid('SEE LICENSE IN LICENSE.txt'),
  {
    validForNewPackages: true,
    validForOldPackages: true,
    inFile: 'LICENSE.txt'
  }
);

assert.deepEqual(
  valid('SEE LICENSE IN license.md'),
  {
    validForNewPackages: true,
    validForOldPackages: true,
    inFile: 'license.md'
  }
);
</code></pre>

<p>If there aren't any licensing terms, use <code>UNLICENSED</code>:</p>

<pre><code class="javascript">var unlicensed = {
  validForNewPackages: true,
  validForOldPackages: true,
  unlicensed: true
};
assert.deepEqual(valid('UNLICENSED'), unlicensed);
assert.deepEqual(valid('UNLICENCED'), unlicensed);
</code></pre>
