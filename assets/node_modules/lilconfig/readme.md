<h1 id="lilconfig-%E2%9A%99%EF%B8%8F">Lilconfig ⚙️</h1>

<p><a href="https://badge.fury.io/js/lilconfig"><img src="https://badge.fury.io/js/lilconfig.svg" alt="npm version" /></a>
<a href="https://packagephobia.now.sh/result?p=lilconfig"><img src="https://packagephobia.now.sh/badge?p=lilconfig" alt="install size" /></a>
<a href="https://coveralls.io/github/antonk52/lilconfig"><img src="https://coveralls.io/repos/github/antonk52/lilconfig/badge.svg" alt="Coverage Status" /></a></p>

<p>A zero-dependency alternative to <a href="https://www.npmjs.com/package/cosmiconfig">cosmiconfig</a> with the same API.</p>

<h2 id="installation">Installation</h2>

<pre><code class="sh">npm install lilconfig
</code></pre>

<h2 id="usage">Usage</h2>

<pre><code class="js">import {lilconfig, lilconfigSync} from 'lilconfig';

// all keys are optional
const options = {
    stopDir: '/Users/you/some/dir',
    searchPlaces: ['package.json', 'myapp.conf.js'],
    ignoreEmptySearchPlaces: false
}

lilconfig(
    'myapp',
    options // optional
).search() // Promise&lt;LilconfigResult&gt;

lilconfigSync(
    'myapp',
    options // optional
).load(pathToConfig) // LilconfigResult

/**
 * LilconfigResult
 * {
 *   config: any; // your config
 *   filepath: string;
 * }
 */
</code></pre>

<h2 id="difference-to-%60cosmiconfig%60">Difference to <code>cosmiconfig</code></h2>

<p>Lilconfig does not intend to be 100% compatible with <code>cosmiconfig</code> but tries to mimic it where possible. The key differences are:
- <strong>no</strong> support for yaml files out of the box(<code>lilconfig</code> attempts to parse files with no extension as JSON instead of YAML). You can still add the support for YAML files by providing a loader, see an <a href="#loaders-example">example</a> below.
- <strong>no</strong> cache</p>

<h3 id="options-difference-between-the-two.">Options difference between the two.</h3>

<table>
<thead>
<tr>
  <th>cosmiconfig option</th>
  <th>lilconfig</th>
</tr>
</thead>
<tbody>
<tr>
  <td>cache</td>
  <td>❌</td>
</tr>
<tr>
  <td>loaders</td>
  <td>✅</td>
</tr>
<tr>
  <td>ignoreEmptySearchPlaces</td>
  <td>✅</td>
</tr>
<tr>
  <td>packageProp</td>
  <td>✅</td>
</tr>
<tr>
  <td>searchPlaces</td>
  <td>✅</td>
</tr>
<tr>
  <td>stopDir</td>
  <td>✅</td>
</tr>
<tr>
  <td>transform</td>
  <td>✅</td>
</tr>
</tbody>
</table>

<h2 id="loaders-example">Loaders example</h2>

<p>If you need the YAML support you can provide your own loader</p>

<pre><code class="js">import {lilconig} from 'lilconfig';
import yaml from 'yaml';

function loadYaml(filepath, content) {
    return yaml.parse(content);
}

const options = {
    loaders: {
        '.yaml': loadYaml,
        '.yml': loadYaml,
        // loader for files with no extension
        noExt: loadYaml
    }
};

lilconfig('myapp', options)
    .search()
    .then(result =&gt; {
        result // {config, filepath}
    });
</code></pre>

<h2 id="version-correlation">Version correlation</h2>

<ul>
<li>lilconig v1 → cosmiconfig v6</li>
<li>lilconig v2 → cosmiconfig v7</li>
</ul>
