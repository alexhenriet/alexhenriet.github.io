<h1 id="safe-regex">safe-regex</h1>

<p>detect potentially
<a href="http://regular-expressions.mobi/catastrophic.html">catastrophic</a>
<a href="http://perlgeek.de/blog-en/perl-tips/in-search-of-an-exponetial-regexp.html">exponential-time</a>
regular expressions by limiting the
<a href="https://en.wikipedia.org/wiki/Star_height">star height</a> to 1</p>

<p>WARNING: This module merely <em>seems</em> to work given all the catastrophic regular
expressions I could find scouring the internet, but I don't have enough of a
background in automata to be absolutely sure that this module will catch all
exponential-time cases.</p>

<p><a href="https://ci.testling.com/substack/safe-regex"><img src="https://ci.testling.com/substack/safe-regex.png" alt="browser support" /></a></p>

<p><a href="http://travis-ci.org/substack/safe-regex"><img src="https://secure.travis-ci.org/substack/safe-regex.png" alt="build status" /></a></p>

<h1 id="example">example</h1>

<pre><code class="js">var safe = require('safe-regex');
var regex = process.argv.slice(2).join(' ');
console.log(safe(regex));
</code></pre>

<pre><code>$ node safe.js '(x+x+)+y'
false
$ node safe.js '(beep|boop)*'
true
$ node safe.js '(a+){10}'
false
$ node safe.js '\blocation\s*:[^:\n]+\b(Oakland|San Francisco)\b'
true
</code></pre>

<h1 id="methods">methods</h1>

<pre><code class="js">var safe = require('safe-regex')
</code></pre>

<h2 id="var-ok-%3D-safere%2C-opts%3D%7B%7D">var ok = safe(re, opts={})</h2>

<p>Return a boolean <code>ok</code> whether or not the regex <code>re</code> is safe and not possibly
catastrophic.</p>

<p><code>re</code> can be a <code>RegExp</code> object or just a string.</p>

<p>If the <code>re</code> is a string and is an invalid regex, returns <code>false</code>.</p>

<ul>
<li><code>opts.limit</code> - maximum number of allowed repetitions in the entire regex.
Default: <code>25</code>.</li>
</ul>

<h1 id="install">install</h1>

<p>With <a href="https://npmjs.org">npm</a> do:</p>

<pre><code>npm install safe-regex
</code></pre>

<h1 id="license">license</h1>

<p>MIT</p>
