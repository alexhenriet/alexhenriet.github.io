<h1 id="postcsspostcss-filter-plugins-%21build-statusci"><a href="https://github.com/postcss/postcss">postcss</a>-filter-plugins <a href="https://travis-ci.org/postcss/postcss-filter-plugins"><img src="https://travis-ci.org/postcss/postcss-filter-plugins.svg?branch=master" alt="Build Status" /></a></h1>

<blockquote>
  <p>Exclude/warn on duplicated PostCSS plugins.</p>
</blockquote>

<h2 id="install">Install</h2>

<p>With <a href="https://npmjs.org/package/postcss-filter-plugins">npm</a> do:</p>

<pre><code class="console">$ npm install postcss-filter-plugins --save
</code></pre>

<h2 id="example">Example</h2>

<p>Note that this plugin does not actually transform your CSS; instead, it ensures
that plugins in the PostCSS instance are not duplicated. It is intended to be
used by plugin packs such as <a href="http://cssnano.co">cssnano</a> or <a href="http://cssnext.io">cssnext</a>.</p>

<pre><code class="js">var counter = postcss.plugin('counter', function () {
    return function (css) {
        css.eachDecl('foo', function (decl) {
            let value = parseInt(decl.value, 10);
            value += 1;
            decl.value = String(value);
        });
    }
});

var css = 'h1 { foo: 1 }';
var out = postcss([
    filter(),
    counter(),
    counter()
]).process(css).css;

console.log(out);
// =&gt; h1 { foo: 2 }
// Note that you will get a PostCSS warning in the message registry
</code></pre>

<h2 id="api">API</h2>

<h3 id="filterpluginsoptions">filterPlugins([options])</h3>

<h4 id="options">options</h4>

<h5 id="direction">direction</h5>

<p>Type: <code>string</code><br />
Default: <code>'both'</code></p>

<p>Pass <code>'forward'</code>, <code>'backward'</code>, or <code>'both'</code> to customise the direction in which the
plugin will look in the plugins array. See the <a href="src/__tests__">tests</a> for examples on how this
works.</p>

<pre><code class="js">postcss([ filter({
    direction: 'forward'
}) ]).process(css).css);
</code></pre>

<h5 id="exclude">exclude</h5>

<p>Type: <code>array</code><br />
Default: <code>[] (empty)</code></p>

<p>Plugins that should be excluded from the filter. Pass an array of plugin names.</p>

<pre><code class="js">postcss([ filter({
    exclude: ['postcss-cssstats']
}) ]).process(css).css);
</code></pre>

<h5 id="silent">silent</h5>

<p>Type: <code>boolean</code><br />
Default: <code>false</code></p>

<p>Set this to true to disable the plugin from emitting any PostCSS warnings.</p>

<pre><code class="js">postcss([ filter({
    silent: true
}) ]).process(css).css);
</code></pre>

<h5 id="template">template</h5>

<p>Type: <code>function</code><br />
Default: <code>format function</code></p>

<p>This function will be passed each PostCSS plugin object. You are expected to
return a string from each call, which is then used to warn the user about her
duplicated plugins.</p>

<pre><code class="js">postcss([ filter({
    template: function (plugin) {
        return 'Duplicate plugin found: ' + plugin.postcssPlugin;
    }
}) ]).process(css).css);
</code></pre>

<h2 id="usage">Usage</h2>

<p>See the <a href="https://github.com/postcss/postcss#usage">PostCSS documentation</a> for
examples for your environment.</p>

<h2 id="contributors">Contributors</h2>

<p>Thanks goes to these wonderful people (<a href="https://github.com/kentcdodds/all-contributors#emoji-key">emoji key</a>):</p>

<p><!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
| <a href="http://beneb.info"><img src="https://avatars.githubusercontent.com/u/1282980?v=3" width="100px;"/><br /><sub>Ben Briggs</sub></a><br /><a href="https://github.com/postcss/postcss-filter-plugins/commits?author=ben-eb">üíª</a> <a href="https://github.com/postcss/postcss-filter-plugins/commits?author=ben-eb">üìñ</a> üëÄ <a href="https://github.com/postcss/postcss-filter-plugins/commits?author=ben-eb">‚ö†Ô∏è</a> | <a href="https://moox.io/"><img src="https://avatars.githubusercontent.com/u/157534?v=3" width="100px;"/><br /><sub>Maxime Thirouin</sub></a><br /><a href="https://github.com/postcss/postcss-filter-plugins/commits?author=MoOx">üìñ</a> | <a href="https://github.com/papandreou"><img src="https://avatars.githubusercontent.com/u/373545?v=3" width="100px;"/><br /><sub>Andreas Lind</sub></a><br /><a href="https://github.com/postcss/postcss-filter-plugins/commits?author=papandreou">üíª</a> |
| :---: | :---: | :---: |
<!-- ALL-CONTRIBUTORS-LIST:END --></p>

<p>This project follows the <a href="https://github.com/kentcdodds/all-contributors">all-contributors</a> specification.
Contributions of any kind welcome!</p>

<h2 id="license">License</h2>

<p>MIT ¬© <a href="http://beneb.info">Ben Briggs</a></p>
