<h1 id="reduce-function-call-%21build-status">reduce-function-call <a href="https://travis-ci.org/MoOx/reduce-function-call"><img src="https://travis-ci.org/MoOx/reduce-function-call.svg?branch=master" alt="Build Status" /></a></h1>

<blockquote>
  <p>Reduce function calls in a string, using a callback</p>
</blockquote>

<hr />

<p><a href="https://tidelift.com/subscription/pkg/npm-reduce-function-call?utm_source=npm-reduce-function-call&amp;utm_medium=referral&amp;utm_campaign=readme">Professionally supported reduce-function-call is now available</a></p>

<hr />

<h2 id="installation">Installation</h2>

<pre><code class="console">npm install reduce-function-call
</code></pre>

<h2 id="usage">Usage</h2>

<pre><code class="js">var reduceFunctionCall = require("reduce-function-call")

reduceFunctionCall("foo(1)", "foo", function(body) {
  // body === "1"
  return parseInt(body, 10) + 1
})
// "2"

var nothingOrUpper = function(body, functionIdentifier) {
  // ignore empty value
  if (body === "") {
    return functionIdentifier + "()"
  }

  return body.toUpperCase()
}

reduceFunctionCall("bar()", "bar", nothingOrUpper)
// "bar()"

reduceFunctionCall("upper(baz)", "upper", nothingOrUpper)
// "BAZ"

reduceFunctionCall("math(math(2 + 2) * 4 + math(2 + 2)) and other things", "math", function(body, functionIdentifier, call) {
  try {
    return eval(body)
  }
  catch (e) {
    return call
  }
})
// "20 and other things"

reduceFunctionCall("sha bla blah() blaa bla() abla() aabla() blaaa()", /\b([a-z]?bla[a-z]?)\(/, function(body, functionIdentifier) {
  if (functionIdentifier === "bla") {
    return "ABRACADABRA"
  }
  return functionIdentifier.replace("bla", "!")
}
// "sha bla !h blaa ABRACADABRA a! aabla() blaaa()"
</code></pre>

<p>See <a href="test/index.js">unit tests</a> for others examples.</p>

<h2 id="contributing">Contributing</h2>

<p>Work on a branch, install dev-dependencies, respect coding style &amp; run tests before submitting a bug fix or a feature.</p>

<pre><code class="console">git clone https://github.com/MoOx/reduce-function-call.git
git checkout -b patch-1
npm install
npm test
</code></pre>

<hr />

<h2 id="changelog"><a href="CHANGELOG.md">Changelog</a></h2>

<h2 id="license"><a href="LICENSE">License</a></h2>

<hr />

<h2 id="security-contact-information">Security contact information</h2>

<p>To report a security vulnerability, please use the
<a href="https://tidelift.com/security">Tidelift security contact</a>. Tidelift will
coordinate the fix and disclosure.</p>
