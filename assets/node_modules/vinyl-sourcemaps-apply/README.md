<h1 id="vinyl-sourcemaps-apply">vinyl-sourcemaps-apply</h1>

<p>Apply a source map to a vinyl file, merging it with preexisting source maps.</p>

<h2 id="usage%3A">Usage:</h2>

<pre><code class="javascript">var applySourceMap = require('vinyl-sourcemaps-apply');
applySourceMap(vinylFile, sourceMap);
</code></pre>

<h3 id="example-gulp-plugin%3A">Example (Gulp plugin):</h3>

<pre><code class="javascript">var through = require('through2');
var applySourceMap = require('vinyl-sourcemaps-apply');
var myTransform = require('myTransform');

module.exports = function(options) {

  function transform(file, encoding, callback) {
    // generate source maps if plugin source-map present
    if (file.sourceMap) {
      options.makeSourceMaps = true;
    }

    // do normal plugin logic
    var result = myTransform(file.contents, options);
    file.contents = new Buffer(result.code);

    // apply source map to the chain
    if (file.sourceMap) {
      applySourceMap(file, result.map);
    }

    this.push(file);
    callback();
  }

  return through.obj(transform);
};
</code></pre>
